{"ast":null,"code":"import _classCallCheck from \"/Users/debpratiher/Desktop/website-tiktok-trends/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/debpratiher/Desktop/website-tiktok-trends/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/debpratiher/Desktop/website-tiktok-trends/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/debpratiher/Desktop/website-tiktok-trends/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/debpratiher/Desktop/website-tiktok-trends/front-end/src/components/Headers/AnalyticsHeader.js\";\nimport React from \"react\"; // reactstrap components\n\nimport { Card, CardBody, CardTitle, CardHeader, Table, Container, Media, Row, Col, Progress, Button } from \"reactstrap\";\nimport Chart from \"chart.js\";\nimport { Line, Bar } from \"react-chartjs-2\";\nimport html2canvas from \"html2canvas\";\nimport { jsPDF } from \"jspdf\";\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport CardForm from '../../views/examples/Stripe.js';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport AnalyticsHeaderItem from \"./AnalyticsHeaderItem.js\"; // core components\n\nimport { chartOptions, parseOptions, chartExample1, chartExample2 } from \"variables/charts.js\";\nvar stringPublishableKey = \"pk_test_51IGxmWJJa9Cf8TPSBcMSZ1xdXYV59vkfVdLswE47L8en8q3HgWQ13LJjvsmnjOORhR9cfDAfqyh7iNTA7sa5aE9u004W4G88VC\";\nvar stripePromise = loadStripe(stringPublishableKey);\n\nvar AnalyticsHeader = /*#__PURE__*/function (_React$Component) {\n  _inherits(AnalyticsHeader, _React$Component);\n\n  var _super = _createSuper(AnalyticsHeader);\n\n  function AnalyticsHeader() {\n    var _this;\n\n    _classCallCheck(this, AnalyticsHeader);\n\n    _this = _super.call(this);\n    _this.state = {\n      analytics: {},\n      activeNav: 1,\n      chartExample1Data: \"data1\"\n    };\n\n    if (window.Chart) {\n      parseOptions(Chart, chartOptions());\n    }\n\n    return _this;\n  }\n\n  _createClass(AnalyticsHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:5100/api/tiktok/mystats/' + localStorage.getItem('reveleUserID')).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        _this2.setState({\n          analytics: responseJson.data\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"downloadPdfDocument\",\n    value: function downloadPdfDocument() {\n      if (!localStorage.getItem('isPaidUser')) {\n        document.getElementById('popupPay').modal('show');\n        return;\n      } else {\n        window.scrollTo(0, 0);\n        var input = document.getElementById('analyticsToPDF');\n        html2canvas(input).then(function (canvas) {\n          var imgData = canvas.toDataURL('image/png');\n          var imgWidth = 210;\n          var pageHeight = 295;\n          var imgHeight = canvas.height * imgWidth / canvas.width;\n          var heightLeft = imgHeight;\n          var doc = new jsPDF('p', 'mm');\n          var position = 10; // give some top padding to first page\n\n          doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n          heightLeft -= pageHeight;\n\n          while (heightLeft >= 0) {\n            position += heightLeft - imgHeight; // top padding for other pages\n\n            doc.addPage();\n            doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n            heightLeft -= pageHeight;\n          }\n\n          doc.save('tiktokAnalytics.pdf');\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var modal = {\n        fontSize: '12px'\n      };\n      var modalContent = {\n        width: '100%',\n        padding: '20px',\n        textAlign: 'center'\n      };\n      var modalActions = {\n        width: '100%',\n        padding: '10px 5px',\n        margin: 'auto',\n        textAlign: 'center'\n      };\n      var modalClose = {\n        cursor: 'pointer',\n        position: 'absolute',\n        display: 'block',\n        padding: '2px 5px',\n        lineHeight: '20px',\n        right: '-10px',\n        top: '-10px',\n        fontSize: '24px',\n        background: '#ffffff',\n        borderRadius: '18px',\n        border: '1px solid #cfcece'\n      };\n      var analytics = this.state.analytics;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header pt-7 pb-3 \",\n        style: {\n          paddingLeft: '39px',\n          paddingRight: '39px',\n          height: '30%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        id: \"downloadPDFButton\",\n        className: \"pt-7\",\n        onClick: function onClick() {\n          return _this3.downloadPdfDocument();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Popup, {\n        id: \"popupPay\",\n        trigger: /*#__PURE__*/React.createElement(Button, {\n          color: \"primary\",\n          size: \"sm\",\n          style: {\n            marginBottom: '5%',\n            position: 'absolute',\n            right: '0',\n            top: '0',\n            marginTop: '23px',\n            marginRight: '9%'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 22\n          }\n        }, \"Download as Pdf \"),\n        modal: true,\n        nested: true,\n        style: {\n          width: '50%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, function (close) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: modal,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"close\",\n          onClick: close,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }\n        }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"div\", {\n          style: modalContent,\n          className: \"content\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Elements, {\n          stripe: stripePromise,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(CardForm, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 19\n          }\n        }))));\n      })), /*#__PURE__*/React.createElement(Card, {\n        className: \"shadow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }\n      }, \" Your Tiktok Metrics \")), /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"pb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Engagement\",\n        value: analytics.heartCount ? Math.round(parseFloat(analytics.heartCount) + parseFloat(analytics.totalCommentCount) + parseFloat(analytics.totalShareCount) / parseFloat(analytics.followerCount)) : \"--\",\n        iconClass: \"fa fa-bolt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 23\n        }\n      }, \"Sometimes you need to allow users to select text within a \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          textDecoration: \"underline\",\n          color: \"blue\"\n        },\n        href: \"#\",\n        id: \"DisabledAutoHideExample\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 84\n        }\n      }, \"tooltip\"), \".\"), /*#__PURE__*/React.createElement(Tooltip, {\n        placement: \"top\",\n        isOpen: tooltipOpen,\n        autohide: false,\n        target: \"DisabledAutoHideExample\",\n        toggle: toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 23\n        }\n      }, \"Try to select this text!\")), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Impressions\",\n        value: analytics.heartCount ? parseFloat(analytics.heartCount) + parseFloat(analytics.totalCommentCount) + parseFloat(analytics.totalShareCount) : \"--\",\n        iconClass: \"fa fa-bolt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Reach\",\n        value: analytics.totalPlayCount ? analytics.totalPlayCount : \"--\",\n        iconClass: \"fa fa-bolt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Audience\",\n        value: analytics.followerCount,\n        iconClass: \"fa fa-bolt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Followers\",\n        value: analytics.followerCount,\n        iconClass: \"fa fa-users\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Likes\",\n        value: analytics.heartCount,\n        iconClass: \"fa fa-heart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Total Views\",\n        value: analytics.totalPlayCount,\n        iconClass: \"fa fa-eye\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Total Shares\",\n        value: analytics.totalShareCount,\n        iconClass: \"fa fa-share\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Total Comments\",\n        value: analytics.totalCommentCount,\n        iconClass: \"fa fa-comments\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(AnalyticsHeaderItem, {\n        title: \"Total Posts\",\n        value: analytics.postCount,\n        iconClass: \"fa fa-address-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }\n      })))))));\n    }\n  }]);\n\n  return AnalyticsHeader;\n}(React.Component);\n\nexport default AnalyticsHeader;","map":{"version":3,"sources":["/Users/debpratiher/Desktop/website-tiktok-trends/front-end/src/components/Headers/AnalyticsHeader.js"],"names":["React","Card","CardBody","CardTitle","CardHeader","Table","Container","Media","Row","Col","Progress","Button","Chart","Line","Bar","html2canvas","jsPDF","Elements","loadStripe","CardForm","Popup","AnalyticsHeaderItem","chartOptions","parseOptions","chartExample1","chartExample2","stringPublishableKey","stripePromise","AnalyticsHeader","state","analytics","activeNav","chartExample1Data","window","fetch","localStorage","getItem","then","response","json","responseJson","setState","data","catch","error","console","document","getElementById","modal","scrollTo","input","canvas","imgData","toDataURL","imgWidth","pageHeight","imgHeight","height","width","heightLeft","doc","position","addImage","addPage","save","fontSize","modalContent","padding","textAlign","modalActions","margin","modalClose","cursor","display","lineHeight","right","top","background","borderRadius","border","paddingLeft","paddingRight","downloadPdfDocument","marginBottom","marginTop","marginRight","close","heartCount","Math","round","parseFloat","totalCommentCount","totalShareCount","followerCount","textDecoration","color","tooltipOpen","toggle","totalPlayCount","postCount","Component"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\n\n// reactstrap components\nimport { Card, CardBody, CardTitle, CardHeader, Table, Container, Media, Row, Col, Progress, Button} from \"reactstrap\";\nimport Chart from \"chart.js\";\nimport { Line, Bar } from \"react-chartjs-2\";\nimport html2canvas from \"html2canvas\";\nimport { jsPDF } from \"jspdf\";\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport CardForm from '../../views/examples/Stripe.js';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport AnalyticsHeaderItem from \"./AnalyticsHeaderItem.js\";\n\n// core components\nimport {\n  chartOptions,\n  parseOptions,\n  chartExample1,\n  chartExample2\n} from \"variables/charts.js\";\n\nconst stringPublishableKey = \"pk_test_51IGxmWJJa9Cf8TPSBcMSZ1xdXYV59vkfVdLswE47L8en8q3HgWQ13LJjvsmnjOORhR9cfDAfqyh7iNTA7sa5aE9u004W4G88VC\";\nconst stripePromise = loadStripe(stringPublishableKey);\n\nclass AnalyticsHeader extends React.Component {\n\n\n  constructor() {\n    super();\n    this.state = {\n      analytics: {},\n      activeNav: 1,\n      chartExample1Data: \"data1\"\n    };\n    if (window.Chart) {\n      parseOptions(Chart, chartOptions());\n    }\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:5100/api/tiktok/mystats/' + localStorage.getItem('reveleUserID'))\n      .then((response) => response.json())\n      .then((responseJson) => {\n        this.setState({\n          analytics: responseJson.data\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  downloadPdfDocument() {\n    if (!localStorage.getItem('isPaidUser')) {\n      document.getElementById('popupPay').modal('show');\n      return;\n    } else {\n      window.scrollTo(0,0);\n      const input = document.getElementById('analyticsToPDF');\n      html2canvas(input)\n        .then((canvas) => {\n          const imgData = canvas.toDataURL('image/png');\n          var imgWidth = 210;\n          var pageHeight = 295;\n          var imgHeight = canvas.height * imgWidth / canvas.width;\n          var heightLeft = imgHeight;\n          var doc = new jsPDF('p', 'mm');\n          var position = 10; // give some top padding to first page\n\n          doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n          heightLeft -= pageHeight;\n\n          while (heightLeft >= 0) {\n            position += heightLeft - imgHeight; // top padding for other pages\n            doc.addPage();\n            doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n            heightLeft -= pageHeight;\n          }\n          doc.save( 'tiktokAnalytics.pdf');\n        })\n    }\n  }\n\n  render() {\n\n    const modal = {\n        fontSize: '12px'\n    };\n\n    const modalContent = {\n      width: '100%',\n      padding: '20px',\n      textAlign: 'center'\n    }\n\n    const modalActions = {\n      width: '100%',\n      padding: '10px 5px',\n      margin: 'auto',\n      textAlign: 'center'\n    }\n\n    const modalClose = {\n      cursor: 'pointer',\n      position: 'absolute',\n      display: 'block',\n      padding: '2px 5px',\n      lineHeight: '20px',\n      right: '-10px',\n      top: '-10px',\n      fontSize: '24px',\n      background: '#ffffff',\n      borderRadius: '18px',\n      border: '1px solid #cfcece'\n    }\n\n    const { analytics } = this.state;\n\n    return (\n      <>\n        <div className=\"header pt-7 pb-3 \" style={{ paddingLeft: '39px', paddingRight: '39px', height: '30%'}}>\n          <a id=\"downloadPDFButton\" className=\"pt-7\" onClick={() => this.downloadPdfDocument()}>\n          <Popup id=\"popupPay\"\n            trigger={<Button color=\"primary\" size=\"sm\" style={{marginBottom: '5%', position: 'absolute', right: '0', top: '0', marginTop: '23px',  marginRight: '9%'}}>Download as Pdf </Button>}\n            modal\n            nested\n            style={{width:'50%'}}\n          >\n              {close => (\n              <div style={modal}>\n                <button className=\"close\" onClick={close}>\n                   &times;\n                </button>\n                <div style={modalContent}  className=\"content\">\n                <Elements stripe={stripePromise}>\n                  <CardForm />\n                </Elements>\n                </div>\n              </div>\n            )}\n         </Popup>\n\n          </a>\n            <Card className=\"shadow\">\n              <CardHeader className=\"border-0\">\n              <h2 style={{ textAlign: 'center'}}> Your Tiktok Metrics </h2>\n              </CardHeader>\n\n              <Container fluid>\n                <div className=\"header-body\">\n                  <Row className=\"pb-3\">\n\n                    <AnalyticsHeaderItem title=\"Engagement\" \n                    value={analytics.heartCount ? Math.round(parseFloat(analytics.heartCount) + parseFloat(analytics.totalCommentCount) + parseFloat(analytics.totalShareCount) / parseFloat(analytics.followerCount)) : \"--\"}\n                    iconClass=\"fa fa-bolt\" />\n\n                     <div>\n                      <p>Sometimes you need to allow users to select text within a <span style={{textDecoration: \"underline\", color:\"blue\"}} href=\"#\" id=\"DisabledAutoHideExample\">tooltip</span>.</p>\n                      <Tooltip placement=\"top\" isOpen={tooltipOpen} autohide={false} target=\"DisabledAutoHideExample\" toggle={toggle}>\n                        Try to select this text!\n                      </Tooltip>\n                    </div>\n\n                    <AnalyticsHeaderItem title=\"Impressions\"\n                    value={analytics.heartCount ? parseFloat(analytics.heartCount) + parseFloat(analytics.totalCommentCount) + parseFloat(analytics.totalShareCount) : \"--\"}\n                    iconClass=\"fa fa-bolt\" />\n\n                    <AnalyticsHeaderItem title=\"Reach\"\n                    value={analytics.totalPlayCount ? analytics.totalPlayCount : \"--\"}\n                    iconClass=\"fa fa-bolt\" />\n\n                    <AnalyticsHeaderItem title=\"Audience\"\n                    value={analytics.followerCount}\n                    iconClass=\"fa fa-bolt\" />\n\n                    <AnalyticsHeaderItem title=\"Followers\"\n                    value={analytics.followerCount}\n                    iconClass=\"fa fa-users\" />\n\n                    <AnalyticsHeaderItem title=\"Likes\"\n                    value={analytics.heartCount}\n                    iconClass=\"fa fa-heart\" />\n\n                    <AnalyticsHeaderItem title=\"Total Views\"\n                    value={analytics.totalPlayCount}\n                    iconClass=\"fa fa-eye\" />\n\n                    <AnalyticsHeaderItem title=\"Total Shares\"\n                    value={analytics.totalShareCount}\n                    iconClass=\"fa fa-share\" />\n\n                    <AnalyticsHeaderItem title=\"Total Comments\"\n                    value={analytics.totalCommentCount}\n                    iconClass=\"fa fa-comments\" />\n\n                    <AnalyticsHeaderItem title=\"Total Posts\"\n                    value={analytics.postCount}\n                    iconClass=\"fa fa-address-card\" />\n\n                  </Row>\n                </div>\n              </Container>\n              </Card>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default AnalyticsHeader;\n"]},"metadata":{},"sourceType":"module"}