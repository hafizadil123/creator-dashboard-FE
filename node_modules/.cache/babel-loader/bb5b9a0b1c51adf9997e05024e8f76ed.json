{"ast":null,"code":"import _regeneratorRuntime from \"/Users/debpratiher/Downloads/argon-dashboard-react-nodejs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/debpratiher/Downloads/argon-dashboard-react-nodejs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/debpratiher/Downloads/argon-dashboard-react-nodejs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/debpratiher/Downloads/argon-dashboard-react-nodejs/front-end/src/views/examples/ConfirmEmail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { confirmRegister } from \"../../network/ApiAxios\";\nimport { Card, CardBody, Col } from \"reactstrap\";\n\nvar ConfirmEmail = function ConfirmEmail(props) {\n  _s();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      valid = _useState2[0],\n      setValid = _useState2[1];\n\n  useEffect(function () {\n    if (!id) {\n      setValid(false);\n    } else {\n      var runAsync = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var response, data;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return confirmRegister(id);\n\n                case 2:\n                  response = _context.sent;\n                  data = response.data;\n                  console.log(data);\n\n                  if (!data.success) {\n                    setValid(false);\n                  } else {\n                    setTimeout(function () {\n                      props.history.push('/auth/login');\n                    }, 5000);\n                  }\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function runAsync() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      runAsync();\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    md: \"8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"bg-secondary shadow border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    className: \"px-lg-5 py-lg-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 29\n    }\n  }, valid ? \"Email confirmed! You will be redirected to login...\" : \"Something went wrong!\"))))));\n};\n\n_s(ConfirmEmail, \"BS1WoCJCbcMjFQ39u7m9CQeJmSU=\", false, function () {\n  return [useParams];\n});\n\n_c = ConfirmEmail;\nexport default ConfirmEmail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfirmEmail\");","map":{"version":3,"sources":["/Users/debpratiher/Downloads/argon-dashboard-react-nodejs/front-end/src/views/examples/ConfirmEmail.js"],"names":["React","useEffect","useState","useParams","confirmRegister","Card","CardBody","Col","ConfirmEmail","props","id","valid","setValid","runAsync","response","data","console","log","success","setTimeout","history","push"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAAQC,eAAR,QAA8B,wBAA9B;AACA,SAAQC,IAAR,EAAcC,QAAd,EAAwBC,GAAxB,QAAkC,YAAlC;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAAA;;AAAA,mBAEbN,SAAS,EAFI;AAAA,MAEnBO,EAFmB,cAEnBA,EAFmB;;AAAA,kBAGAR,QAAQ,CAAC,IAAD,CAHR;AAAA;AAAA,MAGnBS,KAHmB;AAAA,MAGZC,QAHY;;AAK1BX,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAI,CAACS,EAAL,EAAS;AACLE,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACH,KAFD,MAEO;AACH,UAAMC,QAAQ;AAAA,4EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACUT,eAAe,CAACM,EAAD,CADzB;;AAAA;AACPI,kBAAAA,QADO;AAENC,kBAAAA,IAFM,GAEED,QAFF,CAENC,IAFM;AAGbC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,sBAAI,CAACA,IAAI,CAACG,OAAV,EAAmB;AACfN,oBAAAA,QAAQ,CAAC,KAAD,CAAR;AACH,mBAFD,MAEO;AACHO,oBAAAA,UAAU,CAAC,YAAM;AACbV,sBAAAA,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,aAAnB;AACH,qBAFS,EAEP,IAFO,CAAV;AAGH;;AAVY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAH;;AAAA,wBAARR,QAAQ;AAAA;AAAA;AAAA,SAAd;;AAYAA,MAAAA,QAAQ;AACX;AACJ,GAlBQ,EAkBN,EAlBM,CAAT;AAoBA,sBACI,uDACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAY,IAAA,EAAE,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAC,iBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,KAAK,GAAG,qDAAH,GAA2D,uBAArE,CADJ,CADJ,CADJ,CADJ,CADJ,CADJ;AAaH,CAtCD;;GAAMH,Y;UAEWL,S;;;KAFXK,Y;AAwCN,eAAeA,YAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useParams } from 'react-router-dom';\nimport {confirmRegister} from \"../../network/ApiAxios\";\nimport {Card, CardBody, Col} from \"reactstrap\";\n\nconst ConfirmEmail = props => {\n\n    const {id} = useParams();\n    const [valid, setValid] = useState(true);\n\n    useEffect(() => {\n        if (!id) {\n            setValid(false);\n        } else {\n            const runAsync = async () => {\n                const response = await confirmRegister(id);\n                const {data} = response;\n                console.log(data);\n                if (!data.success) {\n                    setValid(false);\n                } else {\n                    setTimeout(() => {\n                        props.history.push('/auth/login');\n                    }, 5000);\n                }\n            }\n            runAsync();\n        }\n    }, [])\n\n    return (\n        <>\n            <Col lg=\"6\" md=\"8\">\n                <Card className=\"bg-secondary shadow border-0\">\n                    <CardBody className=\"px-lg-5 py-lg-5\">\n                        <div className=\"text-center mb-4\">\n                            <h1>{valid ? \"Email confirmed! You will be redirected to login...\" : \"Something went wrong!\"}</h1>\n                        </div>\n                    </CardBody>\n                </Card>\n            </Col>\n        </>\n    )\n};\n\nexport default ConfirmEmail;\n"]},"metadata":{},"sourceType":"module"}